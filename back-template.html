<div id="correctAnswer" style="display:none"></div>

<script>
	//Script for modifying 'Show Answer' behavior for Input types. Modified from the original provided by hinekidori.
	//Place the field containing the correct answer in a div with id="correctAnswer".
	//Custom styling: style div#correct and div#incorrect for correct and incorrect answers respectively.
	//Multiple answers: separate each answer with a semicolon and a space, or change the separator in answerFull.split.
	var typeans = document.getElementById("typeans");

	//Remove everything afher the first <br/>
	typeans.innerHTML = typeans.innerHTML.replace(/<br.*/, "");

	var typedAnswer = "";

	//Remove every "-" placed by Anki
	typeans.querySelectorAll(".typeGood, .typeBad").forEach((e) =>
	{
		if (e.innerHTML == "-") return;
		typedAnswer += e.innerHTML;
	});

	//Get full answer for display and array
	var answerFull = document.getElementById('correctAnswer').innerHTML;
	//Assemble array of answers in lowercase for comparison with typedAnswer
	var answerArray = answerFull.split("; ").map(str => {return str.toLowerCase();});

	//Check answer and apply appropriate div
	if (answerArray.includes(typedAnswer.toLowerCase()))
	{
		typeans.innerHTML = "<div id='correct'>" + typedAnswer + "</div>";
	}
	else
	{
		typeans.innerHTML = "<div id='incorrect'>" + typedAnswer + "</div>";
	}
</script>
